"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[64984],{36997:(e,t,a)=>{a.d(t,{O:()=>r});var n=a(981278);let r=e=>{let{pathname:t}=(0,n.useRouter)();return{isAllowedPages:e.some(e=>t.includes(e))}}},64984:(e,t,a)=>{a.d(t,{x:()=>q});var n=a(926114),r=a(969185),s=a(360662),i=a(477222),m=a(82078),o=a(498848),l=a(867666),d=a(236165),p=a(301872),g=a(292634),c=a(238990),u=a(524335),_=a(568880),y=a(455729),f=a(406029),I=a(461266),S=a(213304),F=a(571024),b=a.n(F);let h=b()(()=>Promise.all([a.e(10382),a.e(3530)]).then(a.bind(a,340602)).then(e=>({default:e.CompLicensingDialog})),{loadableGenerated:{webpack:()=>[340602]},ssr:!1}),v=e=>{let{isOpen:t,...a}=e;return(0,S.G)(t)&&(0,f.jsx)(h,{isOpen:t,...a})},G=b()(()=>Promise.all([a.e(27510),a.e(10382),a.e(6838),a.e(737),a.e(24811),a.e(25133)]).then(a.bind(a,527075)).then(e=>({default:e.CompLicensingDrawer})),{loadableGenerated:{webpack:()=>[527075]},ssr:!1}),A=e=>{let{isOpen:t,...a}=e;return(0,S.G)(t)&&(0,f.jsx)(G,{isOpen:t,...a})},$=b()(()=>a.e(55459).then(a.bind(a,611755)).then(e=>({default:e.CompLicensingSnackbar})),{loadableGenerated:{webpack:()=>[611755]},ssr:!1}),R=e=>{let{isOpen:t,...a}=e;return(0,S.G)(t)&&(0,f.jsx)($,{isOpen:t,...a})};var w=a(263739);let k=function(){let{licensingError:e={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{t}=(0,_.Bd)(n.mAv);return{cancel:t("common:actions_cancel"),downloadComp:t("common:actions_download_comp"),enterpriseCompLicense:t("ent:license_enterprise_comp"),genericErrorMessage:t("ent:license_now_error_message"),licensingError:(0,w.KC)({error:e,t}),licenseSuccess:t("ent:confirmation_alert_message"),licenseFormLabels:{buttonLabel:t("common:actions_download_comp"),disclaimer:(0,f.jsx)(_.x6,{i18nKey:"ent:comp_disclaimer",ns:n.mAv,components:{bold:(0,f.jsx)("strong",{})}}),addMetadataToAsset:t("ent:add_metadata_to_asset_comp"),metadataFound:t("ent:previous_metadata_found_comp"),metadataMissing:t("ent:previous_metadata_missing_comp"),title:t("ent:add_metadata_to_comp")}}},C=e=>{let{assets:t=null,compLicensingHandler:a,isDialogOpen:n=!1,isDrawerOpen:r=!1,isLicensing:s=!1,isSnackBarOpen:i=!1,licensingError:m=I.vB,onDialogClose:o,onDrawerClose:l,onSnackbarClose:d,selectedAssetSize:p="",setSelectedAssetSize:g,settingsData:c=I.vB}=e,u=k({licensingError:m});return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(v,{assets:t,isOpen:n,onClose:o,onLicense:a,labels:u,isLicensing:s,selectedAssetSize:p,setSelectedAssetSize:g,settingsData:c}),(0,f.jsx)(A,{assets:t,isLicensing:s,isOpen:r,labels:u,onClose:l,onLicense:a,selectedAssetSize:p}),(0,f.jsx)(R,{isOpen:i,message:u.licensingError,onClose:d})]})};var T=a(214236);let q=function(){let{allowMetadata:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,a]=(0,y.useState)(null),[f,I]=(0,y.useState)(""),[S,F]=(0,y.useState)(""),[b,h]=(0,y.useState)(!1),[v,G]=(0,y.useState)(!1),[A,$]=(0,y.useState)(!1),{isLicensing:R,licensingError:w,licensingStatus:k,setLicensingStatus:q,licensingAssetsHandler:V}=(0,p.mA)(),O=(0,m.$)(),{data:x}=(0,g.M)(),z=(0,d.Y)(x),N=(0,s.Q)(),{t:M}=(0,_.Bd)(n.EJ3),D=M("file_name_edited"),{getSearchContext:U}=(0,o.J)(),P=(0,c.O)(),{queueIpReview:E}=(0,l.F)({trackingId:U()?.search_tracking_id,onComplete:P}),{checkGate:j}=(0,u.U)(),B=j(r.Cq),J=(0,y.useCallback)(async e=>{let{assets:t=[],assetSize:a,eventLabel:n,format:r,metadata:s,pageSection:i,listId:m}=e;I(t[0].id);let o=!1;try{let e=await (0,T.lw)({assets:t,assetSize:a,format:r,metadata:s,selectedAssetSize:S}),{data:o}=await V(e);if(!((0,T.CN)(t)&&1===t.length)){let e=(0,T.sD)(t)?z:void 0,a=N?.current?.isPeacock?e=>N.current.downloader.resolveUrl(t[0],e,D,o?.meta?.licensedContent):void 0;await (0,T.jZ)({assets:t,compSize:e,licensedContent:o?.meta?.licensedContent,downloader:a,shouldUseClientZip:B}),O({assets:t,eventLabel:n,isRedownload:!1,isQuickDownload:!1,isPaid:!1,isComp:!0,pageSection:i,listId:m})}}catch(e){o=e}return E(t),I(""),o&&!v&&$(!0),{error:o}},[v,z,V,O,S,D,N,E,B]),L=(0,y.useCallback)(async t=>{let{assets:n,assetSize:r,format:s,eventLabel:m,metadata:o,pageSection:l,listId:d}=t;return(a(n),q(""),!b&&(0,i.wy)(n))?(h(!0),Promise.resolve(null)):!v&&x?.requireMetadataForComp&&!o&&e?(r&&F(r),G(!0),Promise.resolve(null)):J({assets:n,assetSize:r,eventLabel:m,format:s,metadata:o,pageSection:l,listId:d})},[e,J,b,v,x,q]),H=(0,y.useMemo)(()=>({assets:t,compLicensingHandler:L,compLicensingRequest:J,isDialogOpen:b,isDrawerOpen:v,isLicensing:R,isSnackBarOpen:A,licensingError:w,onDialogClose:()=>h(!1),onDrawerClose:()=>G(!1),onSnackbarClose:()=>$(!1),selectedAssetSize:S,setSelectedAssetSize:F,settingsData:x}),[t,L,J,b,v,R,A,w,S,x]);return{assetsToLicense:t,compLicensingHandler:L,compLicensingProps:H,CompLicensingViews:C,licensingAssetId:f,licensingStatus:k}}},119640:(e,t,a)=>{a.d(t,{nQ:()=>E,EH:()=>M,Nz:()=>N,D3:()=>O,lp:()=>U,Cn:()=>x,qE:()=>z,P5:()=>D,Z2:()=>j,LV:()=>P});var n=a(563609);let r=JSON.parse('{"id":"32cd42c0f658e4328d24f4f816722b29c69a85ea1d35b562f1c411d77eca2580","type":"mutation","name":"ApplyTransparencyMask","source":"mutation ApplyTransparencyMask($sourceAssetId:SourceAssetId!,$mask:String!,$maskType:MaskType!){initiateGenerationResponse:applyTransparencyMask(sourceAssetId:$sourceAssetId mask:$mask maskType:$maskType){data{...TrackingResponseFragment __typename}problems{__typename message}__typename}}fragment TrackingResponseFragment on TrackingResponse{trackingId{svc uuid __typename}__typename}"}'),s=JSON.parse('{"id":"3e8512ec304af5f86006e05da8b81453a88c174bee15734d829c32857aaadc95","type":"mutation","name":"GenerateImageInpainting","source":"mutation GenerateImageInpainting($sourceAssetId:SourceAssetId!,$limit:Int!,$mask:String!,$maskType:MaskType!,$text:String){initiateGenerationResponse:generateImageInpainting(sourceAssetId:$sourceAssetId limit:$limit mask:$mask maskType:$maskType text:$text){data{...TrackingResponseFragment __typename}problems{__typename message}__typename}}fragment TrackingResponseFragment on TrackingResponse{trackingId{svc uuid __typename}__typename}"}'),i=JSON.parse('{"id":"e69c542448400b3e764d11d0ebdbbc3ea820d84f4a5101f6dc895fab16d542d7","type":"mutation","name":"GenerateImageVariations","source":"mutation GenerateImageVariations($sourceAssetId:SourceAssetId!,$limit:Int!){initiateGenerationResponse:generateImageVariations(sourceAssetId:$sourceAssetId limit:$limit){data{...TrackingResponseFragment __typename}problems{__typename message}__typename}}fragment TrackingResponseFragment on TrackingResponse{trackingId{svc uuid __typename}__typename}"}'),m=JSON.parse('{"id":"b45f847228d475638ef4787455ab378237ee24d68750cd6fe5a8105c7641b598","type":"mutation","name":"InitiateTextToImageGeneration","source":"mutation InitiateTextToImageGeneration($formatId:GeneratedImageFormatId,$limit:Int!,$text:String!,$additionalOptions:JSONObject,$aspectRatio:GeneratedImageAspectRatio,$language:String,$locale:String,$styleId:ID,$referenceImages:[ReferenceImageInput!],$model:ID){initiateGenerationResponse:generateImagesFromText(formatId:$formatId limit:$limit text:$text additionalOptions:$additionalOptions aspectRatio:$aspectRatio language:$language locale:$locale styleId:$styleId referenceImages:$referenceImages model:$model){data{...TrackingResponseFragment __typename}problems{__typename message}__typename}}fragment TrackingResponseFragment on TrackingResponse{trackingId{svc uuid __typename}__typename}"}'),o=JSON.parse('{"id":"e2be9babadfc364acb1207f1a0eac2c6e9f705f6440a8e7ed0a82dc7ec64ffd6","type":"mutation","name":"GenerateImageZoomOut","source":"mutation GenerateImageZoomOut($sourceAssetId:SourceAssetId!,$limit:Int!,$additionalOptions:JSONObject){initiateGenerationResponse:generateZoomedOutImages(sourceAssetId:$sourceAssetId limit:$limit additionalOptions:$additionalOptions){data{...TrackingResponseFragment __typename}problems{__typename message}__typename}}fragment TrackingResponseFragment on TrackingResponse{trackingId{svc uuid __typename}__typename}"}'),l=JSON.parse('{"id":"663f6fc8116ba456ad68039ffe41b42583eb4b036865382a3791a7ea8217238f","type":"query","name":"FetchEditsGenerativeInputs","source":"query FetchEditsGenerativeInputs($language:String){generativeInputs{data{imageToVideo{...ImageToVideoInputsFragment __typename}__typename}__typename}}fragment ImageToVideoInputsFragment on GenerativeInputsForImageToVideo{aspectRatios{id name(language:$language)__typename}__typename}"}'),d=JSON.parse('{"id":"abfbac3a6221a4f11914347cff0c143ff95c9ad5d299d81e74989b9059a8cbee","type":"query","name":"fetchGeneratedImageReviewStatus","source":"query fetchGeneratedImageReviewStatus($assetId:ID!){generatedAsset(assetId:$assetId){data{...on GeneratedImage{registeredImage{isIpReviewed ipReviewStatus{isAppealable rejectionReasons status __typename}referenceIds{name namespace value __typename}__typename}__typename}__typename}__typename}}"}'),p=JSON.parse('{"id":"3c049a09d92d9e35289e3d4f682426271ea173dc979f2e1fc03b2fdd92a40e00","type":"query","name":"fetchGenerationHistory","source":"query fetchGenerationHistory($request:AssetGenerationHistoryInput,$language:String){generationHistory(request:$request){data{...GenerationStatusFragment requestTime __typename}paginationInfo{currentPage totalPages totalCount __typename}__typename}}fragment GenerationStatusFragment on AssetGenerationStatus{assets{...GeneratedAssetV2Fragment __typename}errorCode errorDetails(language:$language){description imageUrl __typename}generationMetadata{...GenerationMetadataFragment __typename}isPrivate registrationEligibility{canRegister originalImage{...SourceAssetFragment __typename}__typename}status trackingId{...TrackingIdFragment __typename}__typename}fragment GeneratedAssetV2Fragment on GeneratedAssetV2{...on GeneratedImage{...GeneratedImageFragment __typename}...on GeneratedVideo{...GeneratedVideoFragment __typename}__typename}fragment GeneratedImageFragment on GeneratedImage{id displayPrompt position small{...GeneratedImageSourceFragment __typename}styles{...StyleBasicFragment __typename}watermarked{...GeneratedImageSourceFragment __typename}__typename}fragment GeneratedImageSourceFragment on GeneratedImageSource{src height width __typename}fragment StyleBasicFragment on GeneratedImageStyle{id format{...FormatFragment __typename}name(language:$language)exemplarAsset{thumbnailImageUrlTemplate __typename}__typename}fragment FormatFragment on GeneratedImageFormat{id name(language:$language)__typename}fragment GeneratedVideoFragment on GeneratedVideo{id displayPrompt thumbnail{...GeneratedImageSourceFragment __typename}small{...GeneratedVideoSourceFragment __typename}watermarked{...GeneratedVideoSourceFragment __typename}__typename}fragment GeneratedVideoSourceFragment on GeneratedVideoSource{fps resolution{...GraphVideoResolution __typename}src __typename}fragment GraphVideoResolution on VideoResolution{height width __typename}fragment GenerationMetadataFragment on GenerationMetadata{__typename...on TextToImageGenerationMetadata{additionalOptions aspectRatio{...AspectRatioFragment __typename}format{...FormatFragment __typename}referenceImages{image{...SourceAssetFragment __typename}type __typename}style{...StyleBasicFragment __typename}text model{...ModelFragment __typename}__typename}...on ImageVariationGenerationMetadata{additionalOptions aspectRatio{...AspectRatioFragment __typename}format{...FormatFragment __typename}sourceAsset{...SourceAssetFragment __typename}style{...StyleBasicFragment __typename}text __typename}...on ZoomedOutImageGenerationMetadata{additionalOptions aspectRatio{...AspectRatioFragment __typename}format{...FormatFragment __typename}sourceAsset{...SourceAssetFragment __typename}style{...StyleBasicFragment __typename}text __typename}...on InpaintingImageGenerationMetadata{additionalOptions aspectRatio{...AspectRatioFragment __typename}format{...FormatFragment __typename}sourceAsset{...SourceAssetFragment __typename}style{...StyleBasicFragment __typename}maskDriven text __typename}...on ImageRemoveObjectsGenerationMetadata{additionalOptions aspectRatio{...AspectRatioFragment __typename}format{...FormatFragment __typename}sourceAsset{...SourceAssetFragment __typename}style{...StyleBasicFragment __typename}__typename}...on ApplyTransparencyMaskGenerationMetadata{additionalOptions sourceAsset{...SourceAssetFragment __typename}__typename}...on ImageToVideoGenerationMetadata{additionalOptions videoAspectRatio:aspectRatio{...VideoAspectRatioFragment __typename}images{...SourceAssetFragment __typename}text __typename}}fragment AspectRatioFragment on GeneratedImageAspectRatioResponse{id name(language:$language)__typename}fragment SourceAssetFragment on SourceAssetImage{__typename...on GeneratedAsset{...GeneratedAssetFragment __typename}...on GeneratedImage{...GeneratedImageFragment __typename}...on CreativeImage{...CreativeImageFragment __typename}...on UserImage{...UserImageFragment __typename}}fragment GeneratedAssetFragment on GeneratedAsset{id displayPrompt small{...ImageSourceSizeFragment __typename}styles{...StyleBasicFragment __typename}watermarked{...ImageSourceSizeFragment __typename}__typename}fragment ImageSourceSizeFragment on AssetSource{src height width __typename}fragment CreativeImageFragment on CreativeImage{__typename classicId description isAdult isIllustration isVector is3dSpinner isGenerated channels contentTier{id __typename}contentTiers thumbnailImageUrlTemplate secureWatermarkImageUrl sellableImageSizes{...on SellableCreativeImageJpgSize{...SellableCreativeImageJpgSizeFragment __typename}...on SellableCreativeImageVectorSize{...SellableCreativeImageVectorSizeFragment __typename}__typename}aspect metadataStatus{mainStatus qualifierStatus __typename}keywords}fragment SellableCreativeImageJpgSizeFragment on SellableCreativeImageJpgSize{__typename name displayName format dpi height{inchesLabel centimetersLabel pixels __typename}width{inchesLabel centimetersLabel pixels __typename}}fragment SellableCreativeImageVectorSizeFragment on SellableCreativeImageVectorSize{__typename name displayName format}fragment UserImageFragment on UserImage{__typename productId height width thumbnailUrl imageVariants{size500 size1500 __typename}}fragment ModelFragment on GenerativeSelectableModel{id displayName(language:$language)logoUrlLight shortDescription(language:$language)__typename}fragment VideoAspectRatioFragment on GeneratedVideoAspectRatioResponse{id name(language:$language)__typename}fragment TrackingIdFragment on TrackingId{svc uuid __typename}"}'),g=JSON.parse('{"id":"eb1cc4b00a7f8d8fe37a00e605b5857b98fa32542c6127029044431e7b92b2d9","type":"query","name":"fetchGenerationResults","source":"query fetchGenerationResults($id:String!,$language:String){generationStatus(trackingId:{uuid:$id}){data{...GenerationStatusFragment __typename}problems{__typename message}__typename}}fragment GenerationStatusFragment on AssetGenerationStatus{assets{...GeneratedAssetV2Fragment __typename}errorCode errorDetails(language:$language){description imageUrl __typename}generationMetadata{...GenerationMetadataFragment __typename}isPrivate registrationEligibility{canRegister originalImage{...SourceAssetFragment __typename}__typename}status trackingId{...TrackingIdFragment __typename}__typename}fragment GeneratedAssetV2Fragment on GeneratedAssetV2{...on GeneratedImage{...GeneratedImageFragment __typename}...on GeneratedVideo{...GeneratedVideoFragment __typename}__typename}fragment GeneratedImageFragment on GeneratedImage{id displayPrompt position small{...GeneratedImageSourceFragment __typename}styles{...StyleBasicFragment __typename}watermarked{...GeneratedImageSourceFragment __typename}__typename}fragment GeneratedImageSourceFragment on GeneratedImageSource{src height width __typename}fragment StyleBasicFragment on GeneratedImageStyle{id format{...FormatFragment __typename}name(language:$language)exemplarAsset{thumbnailImageUrlTemplate __typename}__typename}fragment FormatFragment on GeneratedImageFormat{id name(language:$language)__typename}fragment GeneratedVideoFragment on GeneratedVideo{id displayPrompt thumbnail{...GeneratedImageSourceFragment __typename}small{...GeneratedVideoSourceFragment __typename}watermarked{...GeneratedVideoSourceFragment __typename}__typename}fragment GeneratedVideoSourceFragment on GeneratedVideoSource{fps resolution{...GraphVideoResolution __typename}src __typename}fragment GraphVideoResolution on VideoResolution{height width __typename}fragment GenerationMetadataFragment on GenerationMetadata{__typename...on TextToImageGenerationMetadata{additionalOptions aspectRatio{...AspectRatioFragment __typename}format{...FormatFragment __typename}referenceImages{image{...SourceAssetFragment __typename}type __typename}style{...StyleBasicFragment __typename}text model{...ModelFragment __typename}__typename}...on ImageVariationGenerationMetadata{additionalOptions aspectRatio{...AspectRatioFragment __typename}format{...FormatFragment __typename}sourceAsset{...SourceAssetFragment __typename}style{...StyleBasicFragment __typename}text __typename}...on ZoomedOutImageGenerationMetadata{additionalOptions aspectRatio{...AspectRatioFragment __typename}format{...FormatFragment __typename}sourceAsset{...SourceAssetFragment __typename}style{...StyleBasicFragment __typename}text __typename}...on InpaintingImageGenerationMetadata{additionalOptions aspectRatio{...AspectRatioFragment __typename}format{...FormatFragment __typename}sourceAsset{...SourceAssetFragment __typename}style{...StyleBasicFragment __typename}maskDriven text __typename}...on ImageRemoveObjectsGenerationMetadata{additionalOptions aspectRatio{...AspectRatioFragment __typename}format{...FormatFragment __typename}sourceAsset{...SourceAssetFragment __typename}style{...StyleBasicFragment __typename}__typename}...on ApplyTransparencyMaskGenerationMetadata{additionalOptions sourceAsset{...SourceAssetFragment __typename}__typename}...on ImageToVideoGenerationMetadata{additionalOptions videoAspectRatio:aspectRatio{...VideoAspectRatioFragment __typename}images{...SourceAssetFragment __typename}text __typename}}fragment AspectRatioFragment on GeneratedImageAspectRatioResponse{id name(language:$language)__typename}fragment SourceAssetFragment on SourceAssetImage{__typename...on GeneratedAsset{...GeneratedAssetFragment __typename}...on GeneratedImage{...GeneratedImageFragment __typename}...on CreativeImage{...CreativeImageFragment __typename}...on UserImage{...UserImageFragment __typename}}fragment GeneratedAssetFragment on GeneratedAsset{id displayPrompt small{...ImageSourceSizeFragment __typename}styles{...StyleBasicFragment __typename}watermarked{...ImageSourceSizeFragment __typename}__typename}fragment ImageSourceSizeFragment on AssetSource{src height width __typename}fragment CreativeImageFragment on CreativeImage{__typename classicId description isAdult isIllustration isVector is3dSpinner isGenerated channels contentTier{id __typename}contentTiers thumbnailImageUrlTemplate secureWatermarkImageUrl sellableImageSizes{...on SellableCreativeImageJpgSize{...SellableCreativeImageJpgSizeFragment __typename}...on SellableCreativeImageVectorSize{...SellableCreativeImageVectorSizeFragment __typename}__typename}aspect metadataStatus{mainStatus qualifierStatus __typename}keywords}fragment SellableCreativeImageJpgSizeFragment on SellableCreativeImageJpgSize{__typename name displayName format dpi height{inchesLabel centimetersLabel pixels __typename}width{inchesLabel centimetersLabel pixels __typename}}fragment SellableCreativeImageVectorSizeFragment on SellableCreativeImageVectorSize{__typename name displayName format}fragment UserImageFragment on UserImage{__typename productId height width thumbnailUrl imageVariants{size500 size1500 __typename}}fragment ModelFragment on GenerativeSelectableModel{id displayName(language:$language)logoUrlLight shortDescription(language:$language)__typename}fragment VideoAspectRatioFragment on GeneratedVideoAspectRatioResponse{id name(language:$language)__typename}fragment TrackingIdFragment on TrackingId{svc uuid __typename}"}'),c=JSON.parse('{"id":"95befb7e9e1e1cfa90ef26f8f9bd2f15c5104a6ea8eb518ad3425d26221775e8","type":"query","name":"fetchGenerativeAccountDetails","source":"query fetchGenerativeAccountDetails($requestTypes:[GenerationType!]){generativeAccountDetails{data{credits{...GenerativeCredits __typename}features(requestTypes:$requestTypes){data{requestType features{isPrivateGenerationsEnabled isProModeEnabled isPromptEnrichmentEnabled __typename}__typename}problems{...ProblemFragment __typename}__typename}__typename}problems{...ProblemFragment __typename}__typename}}fragment GenerativeCredits on GenerativeCreditsResponseWrapper{data{usesCredits creditsInfo{nextRenewalDate totalCreditsRemaining __typename}__typename}problems{...ProblemFragment __typename}__typename}fragment ProblemFragment on Problem{__typename message}"}'),u=JSON.parse('{"id":"65bfba090306d6da66616f58b7c8bd00f71a15ebad23aeeba389ae93a33dc0ef","type":"query","name":"FetchGenerativeUpsellInfo","source":"query FetchGenerativeUpsellInfo{generativeUpsellInfo{data{purchasableProducts{...PurchasableProductsFragment __typename}upsellType __typename}problems{__typename message}__typename}}fragment PurchasableProductsFragment on GenerativeProductVariation{credits description extraInformation eligibleForRebilling license id name price prices{usd eur aud jpy gbp dkk chf sek rub brl cad krw nok sgd inr __typename}__typename}"}'),_=JSON.parse('{"id":"f3533d5ba9ab1903e354aa673a4d2c910ce97dc1747b95e0d44ce064612b23b9","type":"query","name":"fetchImageFormatsAndStyles","source":"query fetchImageFormatsAndStyles($size:Int,$language:String,$format:GeneratedImageFormatId!,$selectedStyles:[ID!]){generatedImageFormats{...FormatFragment __typename}generatedImageStyles(where:{formatId:$format,limit:$size,existingStyleIds:$selectedStyles}){...StyleBasicFragment __typename}}fragment FormatFragment on GeneratedImageFormat{id name(language:$language)__typename}fragment StyleBasicFragment on GeneratedImageStyle{id format{...FormatFragment __typename}name(language:$language)exemplarAsset{thumbnailImageUrlTemplate __typename}__typename}"}'),y=JSON.parse('{"id":"8b3053fe7980955724b2f22bd7abf82b007032731caa5784c63b445c77c2fe93","type":"query","name":"fetchThreeDUtilization","source":"query fetchThreeDUtilization($startDate:DateTime!,$endDate:DateTime!,$step:ThreeDUtilizationTimeUnit!,$apiClientIdList:[String!]){generationThreeDUtilization(request:{startDate:$startDate,endDate:$endDate,step:$step,api_client_id_list:$apiClientIdList}){usageBreakdown{date creditUtilization data{workflow mode usageSummary{totalRequests successfulRequests failedRequests averageResponseTimeMs __typename}creditUtilization __typename}__typename}__typename}}"}'),f=JSON.parse('{"id":"502c88b377a868a5528b64247c9f6bfaed73919e6baf4dce73a71292776e135c","type":"query","name":"fetchUpscalingStatus","source":"query fetchUpscalingStatus($assetId:AssetIdInput!){upscalingStatus(assetId:$assetId){data{status __typename}__typename}}"}');var I=a(17563),S=a(962316),F=a(965461),b=a(82281);let{publicRuntimeConfig:{apiEndpoints:h}}=a.n(b)()(),{TextToImage:v,Variation:G,ZoomOut:A,InPaint:$,ImageRemoveObjects:R,ApplyTransparencyMask:w,TextTo_3D:k,ImageTo_3D:C,ImageToVideo:T}=I.jz,q={[v]:m.source,[G]:i.source,[A]:o.source,[$]:s.source,[w]:r.source,[R]:"",[k]:"",[C]:"",[T]:""},V=e=>{let{generationType:t}=e;return t===v?n.YY:n.BY},O=e=>{let{brand:t,experiments:a,generationId:r,headers:s,locale:i}=e,m={id:r,...i&&{language:i}};return{query:g.source,variables:m,formattedRequest:{url:`${h.graphGateway}/graphql`,document:g.source,variables:m,requestHeaders:{...(0,F.C)({brand:t,experiments:a,page:"generate",appName:n.C3}),...s}}}},x=e=>{let{brand:t,experiments:a,headers:r,generationType:s}=e,i=s?{requestType:s}:void 0;return{query:c.source,variables:i,formattedRequest:{url:`${h.graphGateway}/graphql`,document:c.source,variables:i,requestHeaders:{...(0,F.C)({brand:t,experiments:a,page:"generate",appName:n.C3}),...r}}}},z=e=>{let{brand:t,experiments:a,headers:r}=e;return{query:u.source,variables:void 0,formattedRequest:{url:`${h.graphGateway}/graphql`,document:u.source,variables:void 0,requestHeaders:{...(0,F.C)({brand:t,experiments:a,page:"generate",appName:n.C3}),...r}}}},N=e=>{let{assetId:t,brand:a,experiments:n,headers:r}=e,s={assetId:t};return{query:d.source,variables:s,formattedRequest:{url:`${h.graphGateway}/graphql`,document:d.source,variables:s,headers:{...(0,F.C)({brand:a,experiments:n,page:"generate"}),...r}}}},M=e=>{let{brand:t,experiments:a,format:r,headers:s={},locale:i,selectedStyles:m,size:o}=e,l={format:r&&r!==I.Jv.None?r:I.Jv.All,language:i,...o?{size:o}:{},...m?{selectedStyles:[].concat(m)}:{}};return{query:_.source,variables:l,formattedRequest:{url:`${h.graphGateway}/graphql`,document:_.source,variables:l,requestHeaders:{...(0,F.C)({brand:t,experiments:a,page:"generate",appName:n.C3}),...s},timeout:(0,S.NF)()?350:6e3}}},D=e=>{let{additionalOptions:t,aspectRatio:a,assetId:r,experiments:s,brand:i,format:m,generationType:o,headers:l={},limit:d,locale:p,mask:g,maskType:c,prompt:u,referenceImages:_,sourceAssetType:y,styles:f,model:S}=e,b=m||f||o!==I.jz.TextToImage?m:I.Jv.None,v=I.fz.GeneratedImage;y===I.fz.CreativeImage&&(v=I.fz.CreativeImage),y===I.fz.UserImage&&(v=I.fz.UserImage);let G={limit:d||V({generationType:o}),...u&&{text:u},...p&&{language:p},...b&&{formatId:b},...f&&{styleId:f},...a&&{aspectRatio:a},...r&&{sourceAssetId:{id:r,type:v}},...c&&{maskType:c},...g&&{mask:g},...t&&{additionalOptions:t},..._&&{referenceImages:_},...S&&{model:S}},A=q[o];return{query:A,variables:G,formattedRequest:{url:`${h.graphGateway}/graphql`,document:A,variables:G,requestHeaders:{...(0,F.C)({brand:i,experiments:s,page:"generate",appName:n.C3}),...l}}}},U=e=>{let{experiments:t,limit:a,order:r,headers:s={},brand:i,appName:m=n.C3,locale:o,from:l,searchTerm:d,generationTypeIncludes:g}=e,c={request:{searchTerm:d,limit:a,order:r,status:I.HM.Completed,resultsAfter:l,...g&&{requestTypeWhere:{anyOf:g}}},language:o};return{query:p.source,variables:c,formattedRequest:{url:`${h.graphGateway}/graphql`,document:p.source,variables:c,requestHeaders:{...(0,F.C)({brand:i,experiments:t,page:"generate",appName:m}),...s}}}},P=e=>{let{assetId:t,brand:a,headers:r={},page:s}=e,i={assetId:t};return{query:f.source,variables:i,formattedRequest:{url:`${h.graphGateway}/graphql`,document:f.source,variables:i,requestHeaders:{...(0,F.C)({brand:a,page:s,appName:n.C3}),...r}}}},E=e=>{let{brand:t,experiments:a,headers:r,locale:s}=e,i={language:s};return{query:l.source,variables:i,formattedRequest:{url:`${h.graphGateway}/graphql`,document:l.source,variables:i,requestHeaders:{...(0,F.C)({brand:t,experiments:a,page:"peacock",appName:n.JY}),...r}}}},j=e=>{let{experiments:t,brand:a,startDate:r,endDate:s,step:i,apiClientIdList:m}=e,o={startDate:r,endDate:s,step:i,apiClientIdList:m};return{query:y.source,variables:o,formattedRequest:{url:`${h.graphGateway}/graphql`,document:p.source,variables:o,requestHeaders:{...(0,F.C)({brand:a,experiments:t,page:"generate",appName:n.C3})}}}}},214236:(e,t,a)=>{a.d(t,{CN:()=>y,e4:()=>p,jZ:()=>g,lw:()=>_,sD:()=>f});var n=a(487519),r=a(813631),s=a(485650),i=a(556879),m=a(531648),o=a(559044),l=a(639424),d=a(531950);let p=async e=>{let{assets:t,compSize:a,licensedContent:r,supplementalUrlType:s}=e,{downloadUrl:m,contentId:l,contentFormat:p,contentSize:g,supplementalUrls:c}=r[0]||{};if(c?.length&&s){let{url:e=m}=c.find(e=>{let{type:t}=e;return t===s})||{};return e}let u=t.find(e=>{let{id:t}=e;return t===l})||{},_=(0,o.f0)(u),{filename:y,shouldUpdateFilename:f}=(0,i.V)({assets:t,contentId:l});if(f)try{let{data:e}=await d.Bn.post((0,n.Xt)().formattedUrl,{data:[{media_id:u.id,media_type:_,comp_size:a,media_size:g,media_format:p,filename:y}]}),{attributes:t}=e?.data[0]||{};return t.url||m}catch(e){}return m},g=async e=>{let{assets:t=[],compSize:a,assetSize:n,licensedContent:r=[],downloader:s=l.Bx,shouldUseClientZip:m}=e;if(r.length>1){let e,a=(0,i.P)({assets:t,licensedContent:r});return(e=m?await (0,l.eG)(a.content):await (0,l.fX)({downloadBundlePayload:a}),s===l.Bx)?s(e,{name:a.bundleFilename}):s(e)}return s(await p({assets:t,compSize:a,assetSize:n,licensedContent:r}))},c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(e=>{let t=(0,m.xB)({asset:e});return{...e,assetType:t,licenseId:s.H8E[t]}})},u=async()=>{let{url:e}=(0,n.PX)();try{return(await d.Bn.get(e).then(e=>e?.data)).reduce((e,t)=>({...e,[t.name]:"-"}),{})}catch(e){return{}}},_=async function(){let{assets:e,assetSize:t,format:a,metadata:n,selectedAssetSize:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n;return i||(i=await u()),{assets:c(e),format:a||"",licenseMetadata:i,licensingType:s.jO3,selectedAssetSize:t||r||"",isVideoComp:!0}},y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,m.ZC)({asset:e[0]||{}})===r.FY},f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[r.vo,r.W1,r.kc].includes((0,m.ZC)({asset:e[0]||{}}))}},236165:(e,t,a)=>{a.d(t,{Y:()=>s});var n=a(727542),r=a(30721);let s=e=>{let{data:t}=(0,r.rA)();return(0,n.l)({user:t})?e?.compSizeImage:e?.compSizeSubImage}},238990:(e,t,a)=>{a.d(t,{O:()=>F});var n=a(406029),r=a(687534),s=a(926114),i=a(36997),m=a(758018),o=a(648973),l=a(727326),d=a(515729),p=a(323069),g=a(461266),c=a(568880),u=a(455729),_=a(807703),y=a(50634);let f=e=>{let{t,isOpen:a=!1,onClose:n=g.lQ,labelTrack:r}=e,s=(0,y.A)().replace(/-/g,""),i=()=>n(s);return{id:s,alertAction:{label:t("ai_review_process_snackbar:close"),onClick:i},setEntered:()=>{},alertSeverity:o.rD,handleSnackbarClose:i,message:t("ai_review_process_snackbar:text"),labelTrack:r,noAutoHide:!1,isOpen:a}},I=(0,_.n9)()(e=>{let{tokens:{font:t,color:a}}=e;return{linkView:{textDecoration:"underline",fontSize:t.size.s,color:a.white,cursor:"pointer"}}}),S=e=>{let{t}=e,{classes:a}=I();return(0,n.jsx)(r.A,{component:"p",children:(0,n.jsx)(c.x6,{ns:s.PeN,i18nKey:"ai_review_process_snackbar:text",components:{linkView:(0,n.jsx)(m.N,{href:"/catalog/ai-review",linkAs:"/catalog/ai-review",className:a.linkView,"data-automation":"view_ai_review_statuses_link"})},t:t})})},F=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,{isBrandEnterprise:t}=(0,p.P)(),{enqueueSnackbar:a,dequeueSnackbar:r}=(0,d.d)(),{t:m}=(0,c.Bd)(t?s.PeN:""),{isAllowedPages:o}=(0,i.O)(["/generate","/image-generated","/ai-image-generator/history"]),g=t&&o;return(0,u.useCallback)(()=>{let t=f({t:m,labelTrack:l.wju,isOpen:g,onClose:r});setTimeout(()=>{a({...t,message:(0,n.jsx)(S,{t:m})})},e)},[e,m,g,r,a])}},301872:(e,t,a)=>{a.d(t,{mA:()=>j});var n=a(487519),r=a(648973),s=a(813631),i=a(669670),m=a(705992),o=a(485650),l=a(930500),d=a(581298),p=a(573923),g=a(116835),c=a(531648),u=a(263739),_=a(402463),y=a(529862),f=a(788098),I=a(48007),S=a(324975),F=a(560325),b=a(788969),h=a(198795),v=a(323069),G=a(559044),A=a(531950),$=a(455729);let R=e=>{let{assets:t}=e,a=(0,G.f0)(t[0]);return{include:"subscriptions",content_type:(0,c.Uw)({assetType:a,assetId:t[0]?.id}),content_ids:t.reduce((e,t)=>[...e,t.id.toString()],[]).join(",")}},w=e=>{let{assets:t}=e,a={};return t.forEach(e=>{let t=(0,G.f0)(e),n=(0,c.Uw)({assetId:e.id,assetType:t});a[n]=[...a[n]?a[n]:[],e]}),a},k=e=>{let{assetEligibility:t}=e,{permittedLicenses:a,subscriptions:n}=t;return n?.filter(e=>{let{license:t}=e;return a.includes(t.replace("_unlimited",""))})},C=e=>{let{assets:t=[],user:a}=e,r=w({assets:t});return Object.values(r)?.map(e=>{let t=R({assets:e}),{formattedUrl:r}=(0,n.kE)({urlParams:{licenseeIdentifier:`organization-${a?.organizationId}`},queryParams:t});return A.Bn.get(r)})},T=e=>{let{data:t}=e,a=[];return t.map(e=>{let t=e.id.split("-"),n=t[t.length-1],r=k({assetEligibility:e});return a.push({assetId:n,subscriptions:r})}),a};var q=a(30721),V=a(355790),O=a(586694),x=a(884378),z=a(953736),N=a(811407),M=a(333691),D=a(594495);let U={[o.jO3]:n.DH,[o.miZ]:n.E6},P=e=>{let{asset:t,subscriptions:a}=e,n=(0,c.ZC)({asset:t}),{licenseId:r,contentTier:i}=t;switch(n){case s.G_:return(0,S.N)({assetType:s.G_,subscriptions:[...a?.videoSubscriptions??[],...a?.videoCompSubscriptions??[]],selectedLicenseId:r});case s.on:case s.FY:return(0,F.A)({subscriptions:[...a.musicSubscriptions,...a.musicCompSubscriptions],licenseName:t.licenseId});case s.M9:return(0,F.A)({subscriptions:[...a.sfxSubscriptions,...a.sfxCompSubscriptions],licenseName:t.licenseId});case s.uH:return(0,F.A)({subscriptions:[...a.editorialImageSubscriptions,...a.editorialImageCompSubscriptions,...a.editorialVideoSubscriptions,...a.editorialVideoCompSubscriptions],licenseName:t.licenseId,contentTier:i});case s.W1:default:return(0,F.A)({subscriptions:[...a.imageSubscriptions,...a.imageCompSubscriptions],licenseName:t.licenseId,contentTier:i})}},E=e=>{let{asset:t,subscriptions:a}=e,n=P({asset:t,subscriptions:a});return(0,I.t)({subscription:n})?{...n,creditPrice:s.Mp,creditType:l.EV}:n},j=()=>{let{isBrandEnterprise:e}=(0,v.P)(),{data:t}=(0,V.R7)(),[a,n]=(0,$.useState)(!1),[l,I]=(0,$.useState)(""),[F,G]=(0,$.useState)({}),{data:R}=(0,q.rA)(),[,w]=(0,z.Ry)(e=>e),k=(0,O.Jz)(),{analytics:P}=(0,O.pn)(),j=(0,p.cv)(P),B=(0,f.H)(j),J=k||(0,N.vb)(),L=(0,b.i)(),H=(0,h.Z)(),Z=(0,D.mj)(),{locale:Y}=(0,d.Y)(),{sendOrderConfirmationEmails:K}=(0,M.k)();return{isLicensing:a,licensingAssetsHandler:(0,$.useCallback)(async a=>{let l,d,{alreadyLicensedAssets:p=[],assets:f=[],cartMetadata:F={},format:b="",licenseeMetadata:h={},isVideoComp:v=!1,licenseMetadata:$={},licensingType:k,selectedAssetSize:q=""}=a,V=async()=>{let a=T({data:(await Promise.all(C({assets:f,user:R}))).map(e=>{let{data:t}=e;return(0,x.A)(t)}).flat()}),n=f.map(async e=>{let t=(0,c.ZC)({asset:e}),{licenseId:n}=e,{subscriptions:r}=a?.find(t=>{let{assetId:a}=t;return a===String(e.id)})||{},{id:m,license:o}=(0,S.N)({assetType:t,subscriptions:r,selectedLicenseId:n})||{},l=await (0,g.og)({asset:e,format:b,selectedAssetSize:q,licenseName:o,isVideoComp:v});return{...l,...q&&_.N[q]&&{comp_size:q},...t===s.M9&&{override_filename:`${i.wT}_${e.id}.${b||l.content_format}`},...t===s.m$&&{content_provider:s._Y},license_name:o,show_modal:!0,subscription_id:m}});return{licensingPayload:{content:await Promise.all(n),license_metadata:$,required_cookies:"",decode_hadron_ids:e},orderMetadata:f.map(e=>{let{currency:a,description:n,descriptionLanguageMap:r={},id:s,itemType:i,headline:m,licenseId:o,preview:p={},price:g,priceType:c,src:u,thumb:_,thumbImageUrl:y,title:f,type:I}=e,S=a,F=g,b=c;if(!S||!F||!b){let{creditCurrency:a,creditPrice:n,creditType:r}=E({asset:e,subscriptions:t});S=S||a,F=F||n,b=c||r}return S&&!l&&(l=S),b&&!d&&(d=b),{description:r[Y]||n,formattedPrice:H({price:F,localeCurrencyOverride:S,priceType:b}),headline:m,id:s,itemType:i,licenseId:o,licenseName:Z({licenseName:o}),price:F,priceType:b,thumbnailSrc:u||y||p.url||_,title:f,type:I}})}};try{n(!0),I("");let{licensingPayload:e,orderMetadata:t}=await V(),a=U[k]({urlParams:{licenseeIdentifier:`organization-${R?.organizationId}`}}).formattedUrl,s=e?.content?.length>=45,i={...(0,y.H)({trackingId:J,...B?{headers:{[m.ed]:B}}:{}}),...s?{timeout:3e4}:{}},g=await A.Bn.post(a,e,i);if(L({assets:f}),w({assets:f,metadata:F,licensedContent:(0,x.A)(g.data)?.meta?.licensedContent||[]}),!f.some(e=>{let{licenseId:t}=e;return o.t9I.includes(t)})){let e=t.filter(e=>!(0,u.en)({alreadyLicensedAssets:p,asset:e}));K({cartTotalCurrency:l,filteredOrderMetadata:e,licenseMetadata:h,priceType:d})}return I(r.qO),g}catch(a){let e=(0,u.nR)({error:a,user:R}),t=(0,u.A)({assets:f});throw window.NREUM?.addPageAction?.("Enterprise licensing error",{...e,alreadyLicensedAssets:p,assets:f.map(e=>{let{id:t,type:a}=e;return{id:t,type:a}}),cartMetadata:F,format:b,licenseeMetadata:h,licenses:t,isVideoComp:v,licenseMetadata:$,licensingType:k,selectedAssetSize:q}),G(a),I(r.Nz),a}finally{n(!1)}},[R,e,Y,H,Z,t,J,L,w,K,B]),licensingError:F,licensingStatus:l,setIsLicensing:n,setLicensingStatus:I}}},333691:(e,t,a)=>{a.d(t,{k:()=>h});var n=a(926114),r=a(987778),s=a(783913),i=a(149873),m=a(581298),o=a(479677),l=a(198795),d=a(292634),p=a(30721),g=a(519758),c=a(205513),u=a(531950),_=a(963228),y=a(568880),f=a(455729);let I=new RegExp(i.X),S=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{emailCartCheckoutConfirmation:t,orderEmail:a}=e;return t&&a?a.split(",").filter(e=>I.test(e)):[]},F=e=>{let{purchaseOrder:t}=e;return`${t?.[0]} : ${t?.[1]}`.split(" ").map(e=>(0,_.Z)(e)).join(" ")},b=e=>{let{t,keys:{currentYear:a,emailAddress:n,purchaseOrder:r}}=e;return{copyright:t("site-footer:copyright",{CURRENT_YEAR:a}),emailSentTo:t("ent:email_sent_to",{EMAIL_ADDRESS:n}),emailSubjectLine:`${t("ent:order_confirmation_email_subject")} | ${F({purchaseOrder:r})}`,name:t("account:profile_name"),needAssistance:t("ent:contact_sales_representative"),orderConfirmation:t("ent:order_confirmation"),purchaseInformation:t("ent:purchase_information_key"),shutterstockAddress:t("tos:tos_2020_09_04_part_v_24_table_r2_c2_l2"),shutterstockInc:t("tos:tos_2020_09_04_part_v_24_table_r2_c2_l1"),subtotal:t("ent:order_confirmation_email_subtotal"),thisIsNotAnInvoice:t("ent:not_an_invoice")}},h=()=>{let{t:e}=(0,y.Bd)(n._RK),{data:t}=(0,p.rA)(),{data:a}=(0,g.M)(),{data:i}=(0,d.M)(),{name:_,email:I,phone:F}=(0,c.e)({fetchTrigger:!0})||{},{locale:h,fullLocale:v}=(0,m.Y)(),G=(0,l.Z)();return{sendOrderConfirmationEmails:(0,f.useCallback)(function(){let{cartTotalCurrency:n,filteredOrderMetadata:m,licenseMetadata:l,priceType:d}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},p=[...a?.emailCartCheckoutConfirmation?[t?.email]:[],...S(i)];if(p.length&&m?.length){let a=b({t:e,keys:{currentYear:new Date().getFullYear(),emailAddress:t?.email,purchaseOrder:Object.entries(l)[0],repName:_,repPhoneNumber:F,repEmail:I}});try{let e={cartItems:m,fullName:t?.fullName,invoiceDate:new Intl.DateTimeFormat(v).format(new Date),labels:a,licenseMetadata:l,repEmail:I,repName:_,repPhoneNumber:F,totalAmount:G({price:(0,o.bc)(m,[]),localeCurrencyOverride:n,priceType:d}),username:t?.username};u.Y$.post((0,r.J9)().formattedUrl,{emails:[...new Set(p)],emailBody:e,emailSubject:`${a.emailSubjectLine}`,language:h})}catch(e){window.NREUM?.setTransactionName?.(`sendOrderConfirmationEmail/${s.o5}`),window.NREUM?.noticeError?.(e,{message:`Failed sending order confirmation emails to: ${p.join(", ")}`})}}},[v,h,i,G,I,_,F,e,t?.email,t?.fullName,t?.username,a?.emailCartCheckoutConfirmation])}}},479677:(e,t,a)=>{a.d(t,{$R:()=>I,Bq:()=>b,HD:()=>y,KS:()=>f,NS:()=>l,Ox:()=>d,bc:()=>h,nu:()=>p,sI:()=>g});var n=a(813631),r=a(514264),s=a(398820),i=a(821790),m=a(263739),o=a(559044);let l=e=>{let{licenseName:t,cartData:a,asset:n}=e;return t?!!a?.items.find(e=>e.id===n?.id&&e.licenseId===t):!!a?.items.find(e=>e.id===n?.id)},d=e=>{let{asset:t,unavailableAssets:a}=e;return!a.find(e=>e.contentId===(0,o.qQ)({asset:t})&&e.contentType===t.type)},p=function(){let{errors:e=[]}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.some(e=>s.S_.includes(e))},g=e=>{let{cachedCart:t,newItems:a}=e,n=[...t?.items||[],...a];return{...t,items:n,count:n.length}},c=e=>{let{item:t,licensedAssets:a}=e;return a?.find(e=>{let{contentId:a}=e;return a===String(t.id)})?0:t.isUnlimited?.1:parseFloat(t.price)},u=e=>{let{item1:t={},item2:a={},sortOrder:n,licensedAssets:r}=e,s=c({item:t,licensedAssets:r}),m=c({item:a,licensedAssets:r});return n===i.Zy?s-m:m-s},_=e=>{let{item1:t,item2:a,sortField:n="addedTime",sortOrder:r}=e;return r===i.Zy?Number(new Date(a[n]))-Number(new Date(t[n])):Number(new Date(t[n]))-Number(new Date(a[n]))},y=e=>{let{primaryCart:t,sortField:a,sortOrder:n,alreadyLicensedPrimaryAssets:s}=e;return t.sort((e,t)=>a===r.v3.ADDED_TIME?_({item1:e,item2:t,sortField:a,sortOrder:n}):u({item1:e,item2:t,sortField:a,sortOrder:n,licensedAssets:s}))},f=e=>{let{rolodexAddress:t}=e,[a,n]=t.streetLines?.split("\n")||[],{locality:r,postalCode:s,region:i,country:m,company:o}=t;return{country:m,company:o,city:r,zip:s,state:i,address1:a,address2:n}},I=e=>{let{billingEntity:t}=e;return t?.rolodexAddresses?.find(e=>"licensing"===e.addressType||e.usages?.includes("licensing"))||{}},S=e=>{let{asset:t,alreadyLicensedAssets:a}=e;return t?.price===n.Mp||(0,m.en)({alreadyLicensedAssets:a,asset:t})},F=e=>{let{acc:t,asset:a,alreadyLicensedAssets:n}=e;return S({asset:a,alreadyLicensedAssets:n})?t:t+parseFloat(a?.price)},b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return t?e.filter(e=>{let{isUnavailableAsset:t}=e;return!t}).reduce((e,a)=>F({acc:e,asset:a,alreadyLicensedAssets:t}),0):0},h=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.every(e=>{let{price:t}=e;return t===n.Mp})?n.Mp:b(e,t)}},556879:(e,t,a)=>{a.d(t,{P:()=>l,V:()=>o});var n=a(559044),r=a(293595);let s="shutterstock",i="shutterstock_editorial",m=e=>{let{asset:t}=e;return(0,n.Uh)(t)?{prefix:"shutterstock_offset",shouldUpdateFilename:!0}:(0,n.zz)({asset:t})?{prefix:i,shouldUpdateFilename:!1}:{prefix:s,shouldUpdateFilename:!1}},o=e=>{let{assets:t,contentId:a}=e,{prefix:n,shouldUpdateFilename:r}=m({asset:t.find(e=>{let{id:t}=e;return t===a})||{}});return{filename:`${n}_${a}`,shouldUpdateFilename:r}},l=e=>{let{assets:t=[],licensedContent:a=[]}=e,m=t.every(e=>(0,n.zz)({asset:e})),l=a.map(e=>{let{contentId:a,downloadUrl:n,contentFormat:r}=e,{filename:s}=o({assets:t,contentId:a}),i=n.split("/").pop().split("?").shift().split(".").pop();return(i.length>4||i.length<2)&&(i=r),{filename:`${s}.${i}`,url:n}}),d=(0,r.kX)();return{bundleFilename:`${m?i:s}_${d}.zip`,content:l}}},727542:(e,t,a)=>{a.d(t,{l:()=>r});var n=a(559067);let r=e=>{let{user:t}=e;return t?.roles?.includes(n.lc)}},788969:(e,t,a)=>{a.d(t,{i:()=>m});var n=a(573923),r=a(498848),s=a(586694),i=a(455729);let m=()=>{let{analytics:e}=(0,s.pn)(),{getSearchContext:t}=(0,r.J)();return(0,i.useCallback)(a=>{let{assets:r=[]}=a,s=t(r[0]);e.productLicensed({products:r.map(e=>(0,n.Un)({asset:e,shouldGetSearchContextFromAsset:!0})),search_context:s})},[e,t])}},867666:(e,t,a)=>{a.d(t,{F:()=>S});var n=a(926114),r=a(119640),s=a(648973),i=a(122980),m=a(515729),o=a(495060),l=a(786380),d=a(323069),p=a(946131),g=a(903074),c=a(529862),u=a(491894);let _=async e=>{let{items:t,trackingId:a,isAppeal:n=!1}=e;0!==t.length&&await (0,u.A)("/message-gateway/ip-review",{method:"POST",requireAuth:!0,...(0,c.H)({trackingId:a}),body:{isAppeal:n,media:t.map(e=>({mediaId:e}))}})};var y=a(293251),f=a(568880),I=a(455729);let S=function(){let{trackingId:e="",updateRequestCache:t,onComplete:a=()=>{}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=(0,p.s)("/"),{isBrandEnterprise:u,brand:S}=(0,d.P)(),F=(0,g.J)(),b=F?.isSMB,h=(0,y.jE)(),{enqueueSnackbar:v}=(0,m.d)(),{t:G}=(0,f.Bd)(n.HPg);return{queueIpReview:(0,I.useCallback)(async(n,m)=>{if(!u&&!b)return;let d=Array.isArray(n)?n:[n],p=d.reduce((e,t)=>(0,o.iu)(t)?[...e,String(t.id)]:e,[]);if(!p.length)return;let g=(await h.fetchQuery({queryKey:(0,l.IF)({assetIds:p}),queryFn:e=>{let{queryKey:t}=e;return(0,l.tz)(c,t)}})).reduce((e,t)=>t?.isIpReviewed===!1&&(t?.ipReviewStatus===""||t.isAppealable&&m&&t.ipReviewStatus===i.Vj)?[...e,t]:e,[]);try{if(g.length){await _({items:g.map(e=>e?.classicId),trackingId:e,isAppeal:m??!1});let n=g.map(e=>(h.setQueryData(e.queryKey,[{...e,isIpReview:!1,ipReviewStatus:i.eG}]),h.invalidateQueries({queryKey:e.queryKey,predicate:t=>{let{queryKey:a}=t;return a===e.queryKey}}))),{formattedRequest:s}=(0,r.Nz)({brand:S,experiments:{},assetId:""}),o=h.invalidateQueries({exact:!1,queryKey:[{...s,variables:{},headers:{}}],refetchType:"active",predicate:()=>!0});await Promise.all([...t?[t({reviewStatus:i.eG})]:[],...n,o]),a(d)}}catch(t){v({alertSeverity:s.ff,error:t,message:G("ip_review_error"),reason:"Error adding assets to queue for IP review"}),window.NREUM?.noticeError?.(t,{message:`Error adding assets to queue for IP review: ${g.map(e=>e?.classicId).join(", ")}
trackingId: ${e}`})}},[S,u,h,c,e,t,a,b,v,G])}}},987778:(e,t,a)=>{a.d(t,{J9:()=>s,M5:()=>r});var n=a(940252);let r=()=>{let e="/email/ss_premier_sub_account_activation_email";return{url:e,formattedUrl:(0,n.format)({pathname:e})}},s=()=>{let e="/email/premier_cart_confirmation";return{url:e,formattedUrl:(0,n.format)({pathname:e})}}}}]);
//# sourceMappingURL=64984-48400ca4134909c8.js.map